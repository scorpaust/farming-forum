{"remainingRequest":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\dev\\farming-forum\\src\\pages\\ThreadEdit.vue?vue&type=template&id=e8f73250","dependencies":[{"path":"C:\\dev\\farming-forum\\src\\pages\\ThreadEdit.vue","mtime":1639940803896},{"path":"C:\\dev\\farming-forum\\babel.config.js","mtime":1638558199793},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiY29sLWZ1bGwgcHVzaC10b3AiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgRWRpdGluZyAiKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfdGhyZWFkX2VkaXRvciA9IF9yZXNvbHZlQ29tcG9uZW50KCJ0aHJlYWQtZWRpdG9yIik7CgogIHJldHVybiBfY3R4LmFzeW5jRGF0YVN0YXR1c19yZWFkeSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsIFtfaG9pc3RlZF8yLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy50aHJlYWQudGl0bGUpLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdGhyZWFkX2VkaXRvciwgewogICAgdGl0bGU6ICRvcHRpb25zLnRocmVhZC50aXRsZSwKICAgIHRleHQ6ICRvcHRpb25zLnRleHQsCiAgICBvblNhdmU6ICRvcHRpb25zLnNhdmUsCiAgICBvbkNhbmNlbDogJG9wdGlvbnMuY2FuY2VsLAogICAgb25EaXJ0eTogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5mb3JtSXNEaXJ0eSA9IHRydWU7CiAgICB9KSwKICAgIG9uQ2xlYW46IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEuZm9ybUlzRGlydHkgPSBmYWxzZTsKICAgIH0pCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbInRpdGxlIiwgInRleHQiLCAib25TYXZlIiwgIm9uQ2FuY2VsIl0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpOwp9"},{"version":3,"sources":["C:\\dev\\farming-forum\\src\\pages\\ThreadEdit.vue"],"names":[],"mappings":";;;AACmC,EAAA,KAAK,EAAC;;;+CACnC,W;;;;;SADM,IAAA,CAAA,qB,kBAAX,mBAAA,CAaM,KAbN,EAAA,UAAA,EAaM,CAZL,mBAAA,CAEK,IAFL,EAEK,IAFL,EAEK,C,UAAA,EADI,mBAAA,CAAyB,GAAzB,EAAyB,IAAzB,EAAyB,gBAAA,CAAnB,QAAA,CAAA,MAAA,CAAO,KAAY,CAAzB,EAAkB;AAAA;AAAlB,GACJ,CAFL,CAYK,EARL,YAAA,CAOE,wBAPF,EAOE;AANA,IAAA,KAAK,EAAE,QAAA,CAAA,MAAA,CAAO,KAMd;AALA,IAAA,IAAI,EAAE,QAAA,CAAA,IAKN;AAJA,IAAA,MAAI,EAAE,QAAA,CAAA,IAIN;AAHA,IAAA,QAAM,EAAE,QAAA,CAAA,MAGR;AAFA,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,KAAA,CAAA,WAAA,GAAW,IAAb;AAAA,KAAA,CAEL;AADA,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,KAAA,CAAA,WAAA,GAAW,KAAb;AAAA,KAAA;AACL,GAPF,E,IAAA,E;;AAAA,I,uCAAA,CAQK,CAbN,C","sourcesContent":["<template>\r\n\t<div v-if=\"asyncDataStatus_ready\" class=\"col-full push-top\">\r\n\t\t<h1>\r\n\t\t\tEditing <i>{{ thread.title }}</i>\r\n\t\t</h1>\r\n\r\n\t\t<thread-editor\r\n\t\t\t:title=\"thread.title\"\r\n\t\t\t:text=\"text\"\r\n\t\t\t@save=\"save\"\r\n\t\t\t@cancel=\"cancel\"\r\n\t\t\t@dirty=\"formIsDirty = true\"\r\n\t\t\t@clean=\"formIsDirty = false\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport ThreadEditor from \"@/components/ThreadEditor\";\r\n\timport { findById } from \"@/helpers\";\r\n\timport { mapActions } from \"vuex\";\r\n\timport asyncDataStatus from \"@/mixins/asyncDataStatus\";\r\n\r\n\texport default {\r\n\t\tcomponents: { ThreadEditor },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tformIsDirty: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tid: { type: String, required: true },\r\n\t\t},\r\n\t\tmixins: [asyncDataStatus],\r\n\t\tcomputed: {\r\n\t\t\tthread() {\r\n\t\t\t\treturn findById(this.$store.state.threads.items, this.id);\r\n\t\t\t},\r\n\t\t\ttext() {\r\n\t\t\t\tconst post = findById(\r\n\t\t\t\t\tthis.$store.state.posts.items,\r\n\t\t\t\t\tthis.thread.posts[0]\r\n\t\t\t\t);\r\n\t\t\t\treturn post ? post.text : \"\";\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(\"threads\", [\"updateThread\", \"fetchThread\"]),\r\n\t\t\t...mapActions(\"posts\", [\"fetchPost\"]),\r\n\t\t\tasync save({ title, text }) {\r\n\t\t\t\tconst thread = await this.updateThread({\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\ttext,\r\n\t\t\t\t});\r\n\t\t\t\tthis.$router.push({ name: \"ThreadShow\", params: { id: thread.id } });\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.$router.push({ name: \"ThreadShow\", params: { id: this.id } });\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tconst thread = await this.fetchThread({ id: this.id });\r\n\t\t\tawait this.fetchPost({ id: thread.posts[0] });\r\n\t\t\tthis.asyncDataStatus_fetched();\r\n\t\t},\r\n\t\tbeforeRouteLeave() {\r\n\t\t\tif (this.formIsDirty) {\r\n\t\t\t\tconst confirmed = window.confirm(\r\n\t\t\t\t\t\"Are you sure you want to leave? Unsaved changes will be lost!\"\r\n\t\t\t\t);\r\n\t\t\t\tif (!confirmed) return false;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>"],"sourceRoot":""}]}