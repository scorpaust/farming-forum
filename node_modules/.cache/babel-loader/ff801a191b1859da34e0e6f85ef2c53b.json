{"remainingRequest":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\farming-forum\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\dev\\farming-forum\\src\\store\\getters.js","dependencies":[{"path":"C:\\dev\\farming-forum\\src\\store\\getters.js","mtime":1639323702763},{"path":"C:\\dev\\farming-forum\\babel.config.js","mtime":1638558199793},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\dev\\farming-forum\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXGRldlxcZmFybWluZy1mb3J1bVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBmaW5kQnlJZCB9IGZyb20gIkAvaGVscGVycyI7CmV4cG9ydCBkZWZhdWx0IHsKICBhdXRoVXNlcjogZnVuY3Rpb24gYXV0aFVzZXIoc3RhdGUsIGdldHRlcnMpIHsKICAgIHJldHVybiBnZXR0ZXJzLnVzZXIoc3RhdGUuYXV0aElkKTsKICB9LAogIHVzZXI6IGZ1bmN0aW9uIHVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgdmFyIHVzZXIgPSBmaW5kQnlJZChzdGF0ZS51c2VycywgaWQpOwogICAgICBpZiAoIXVzZXIpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB1c2VyKSwge30sIHsKICAgICAgICBnZXQgcG9zdHMoKSB7CiAgICAgICAgICByZXR1cm4gc3RhdGUucG9zdHMuZmlsdGVyKGZ1bmN0aW9uIChwb3N0KSB7CiAgICAgICAgICAgIHJldHVybiBwb3N0LnVzZXJJZCA9PT0gdXNlci5pZDsKICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIGdldCBwb3N0c0NvdW50KCkgewogICAgICAgICAgcmV0dXJuIHVzZXIucG9zdHNDb3VudCB8fCAwOwogICAgICAgIH0sCgogICAgICAgIGdldCB0aHJlYWRzKCkgewogICAgICAgICAgcmV0dXJuIHN0YXRlLnRocmVhZHMuZmlsdGVyKGZ1bmN0aW9uIChwb3N0KSB7CiAgICAgICAgICAgIHJldHVybiBwb3N0LnVzZXJJZCA9PT0gdXNlci5pZDsKICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIGdldCB0aHJlYWRzQ291bnQoKSB7CiAgICAgICAgICB2YXIgX3VzZXIkdGhyZWFkczsKCiAgICAgICAgICByZXR1cm4gKChfdXNlciR0aHJlYWRzID0gdXNlci50aHJlYWRzKSA9PT0gbnVsbCB8fCBfdXNlciR0aHJlYWRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdXNlciR0aHJlYWRzLmxlbmd0aCkgfHwgMDsKICAgICAgICB9CgogICAgICB9KTsKICAgIH07CiAgfSwKICB0aHJlYWQ6IGZ1bmN0aW9uIHRocmVhZChzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkgewogICAgICB2YXIgdGhyZWFkID0gZmluZEJ5SWQoc3RhdGUudGhyZWFkcywgaWQpOwogICAgICBpZiAoIXRocmVhZCkgcmV0dXJuIHt9OwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aHJlYWQpLCB7fSwgewogICAgICAgIGdldCBhdXRob3IoKSB7CiAgICAgICAgICByZXR1cm4gZmluZEJ5SWQoc3RhdGUudXNlcnMsIHRocmVhZCA9PT0gbnVsbCB8fCB0aHJlYWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRocmVhZC51c2VySWQpOwogICAgICAgIH0sCgogICAgICAgIGdldCByZXBsaWVzQ291bnQoKSB7CiAgICAgICAgICB2YXIgX3RocmVhZCRwb3N0czsKCiAgICAgICAgICByZXR1cm4gKChfdGhyZWFkJHBvc3RzID0gdGhyZWFkLnBvc3RzKSA9PT0gbnVsbCB8fCBfdGhyZWFkJHBvc3RzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhyZWFkJHBvc3RzLmxlbmd0aCkgLSAxOwogICAgICAgIH0sCgogICAgICAgIGdldCBjb250cmlidXRvcnNDb3VudCgpIHsKICAgICAgICAgIHZhciBfdGhyZWFkJGNvbnRyaWJ1dG9yczsKCiAgICAgICAgICByZXR1cm4gKF90aHJlYWQkY29udHJpYnV0b3JzID0gdGhyZWFkLmNvbnRyaWJ1dG9ycykgPT09IG51bGwgfHwgX3RocmVhZCRjb250cmlidXRvcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aHJlYWQkY29udHJpYnV0b3JzLmxlbmd0aDsKICAgICAgICB9CgogICAgICB9KTsKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["C:/dev/farming-forum/src/store/getters.js"],"names":["findById","authUser","state","getters","user","authId","id","users","posts","filter","post","userId","postsCount","threads","threadsCount","length","thread","author","repliesCount","contributorsCount","contributors"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,WAAzB;AAEA,eAAe;AACbC,EAAAA,QAAQ,EAAE,kBAACC,KAAD,EAAQC,OAAR,EAAoB;AAC5B,WAAOA,OAAO,CAACC,IAAR,CAAaF,KAAK,CAACG,MAAnB,CAAP;AACD,GAHY;AAIbD,EAAAA,IAAI,EAAE,cAAAF,KAAK,EAAI;AACb,WAAO,UAACI,EAAD,EAAQ;AACb,UAAMF,IAAI,GAAGJ,QAAQ,CAACE,KAAK,CAACK,KAAP,EAAcD,EAAd,CAArB;AACA,UAAI,CAACF,IAAL,EAAW,OAAO,IAAP;AACX,6CACKA,IADL;AAEE,YAAII,KAAJ,GAAa;AACX,iBAAON,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmB,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACC,MAAL,KAAgBP,IAAI,CAACE,EAAzB;AAAA,WAAvB,CAAP;AACD,SAJH;;AAKE,YAAIM,UAAJ,GAAkB;AAChB,iBAAOR,IAAI,CAACQ,UAAL,IAAmB,CAA1B;AACD,SAPH;;AAQE,YAAIC,OAAJ,GAAe;AACb,iBAAOX,KAAK,CAACW,OAAN,CAAcJ,MAAd,CAAqB,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACC,MAAL,KAAgBP,IAAI,CAACE,EAAzB;AAAA,WAAzB,CAAP;AACD,SAVH;;AAWE,YAAIQ,YAAJ,GAAoB;AAAA;;AAClB,iBAAO,kBAAAV,IAAI,CAACS,OAAL,gEAAcE,MAAd,KAAwB,CAA/B;AACD;;AAbH;AAeH,KAlBC;AAmBD,GAxBY;AAyBbC,EAAAA,MAAM,EAAE,gBAAAd,KAAK,EAAI;AAEf,WAAO,UAACI,EAAD,EAAQ;AAEb,UAAMU,MAAM,GAAGhB,QAAQ,CAACE,KAAK,CAACW,OAAP,EAAgBP,EAAhB,CAAvB;AACA,UAAI,CAACU,MAAL,EAAa,OAAO,EAAP;AACb,6CACKA,MADL;AAEE,YAAIC,MAAJ,GAAc;AACZ,iBAAOjB,QAAQ,CAACE,KAAK,CAACK,KAAP,EAAcS,MAAd,aAAcA,MAAd,uBAAcA,MAAM,CAAEL,MAAtB,CAAf;AACD,SAJH;;AAKE,YAAIO,YAAJ,GAAoB;AAAA;;AAClB,iBAAO,kBAAAF,MAAM,CAACR,KAAP,gEAAcO,MAAd,IAAuB,CAA9B;AACD,SAPH;;AAQE,YAAII,iBAAJ,GAAyB;AAAA;;AACvB,yCAAOH,MAAM,CAACI,YAAd,yDAAO,qBAAqBL,MAA5B;AACD;;AAVH;AAYD,KAhBD;AAiBD;AA5CY,CAAf","sourcesContent":["import { findById } from \"@/helpers\"\r\n\r\nexport default {\r\n  authUser: (state, getters) => {\r\n    return getters.user(state.authId)\r\n  },\r\n  user: state => {\r\n    return (id) => {\r\n      const user = findById(state.users, id)\r\n      if (!user) return null\r\n      return {\r\n        ...user,\r\n        get posts () {\r\n          return state.posts.filter(post => post.userId === user.id)\r\n        },\r\n        get postsCount () {\r\n          return user.postsCount || 0\r\n        },\r\n        get threads () {\r\n          return state.threads.filter(post => post.userId === user.id)\r\n        },\r\n        get threadsCount () {\r\n          return user.threads?.length || 0\r\n        }\r\n    }\r\n  }\r\n  },\r\n  thread: state => {\r\n\r\n    return (id) => {\r\n\r\n      const thread = findById(state.threads, id)\r\n      if (!thread) return {}\r\n      return { \r\n        ...thread,\r\n        get author () {\r\n          return findById(state.users, thread?.userId)\r\n        },\r\n        get repliesCount () {\r\n          return thread.posts?.length - 1\r\n        },\r\n        get contributorsCount () {\r\n          return thread.contributors?.length\r\n        }\r\n      }  \r\n    }\r\n  }\r\n}\r\n"]}]}