{"remainingRequest":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\dev\\farming-forum\\src\\pages\\ThreadShow.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\dev\\farming-forum\\src\\pages\\ThreadShow.vue","mtime":1640102375624},{"path":"C:\\dev\\farming-forum\\babel.config.js","mtime":1638558199793},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZhcm1pbmctZm9ydW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOlxcZGV2XFxmYXJtaW5nLWZvcnVtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYXQtYWx0ZXJuYXRpdmUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgUG9zdExpc3QgZnJvbSAiQC9jb21wb25lbnRzL1Bvc3RMaXN0IjsKaW1wb3J0IFBvc3RFZGl0b3IgZnJvbSAiQC9jb21wb25lbnRzL1Bvc3RFZGl0b3IiOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBhc3luY0RhdGFTdGF0dXMgZnJvbSAiQC9taXhpbnMvYXN5bmNEYXRhU3RhdHVzIjsKaW1wb3J0IHVzZU5vdGlmaWNhdGlvbnMgZnJvbSAiQC9jb21wb3NhYmxlcy91c2VOb3RpZmljYXRpb25zIjsKaW1wb3J0IGRpZmZlcmVuY2UgZnJvbSAibG9kYXNoIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUaHJlYWRTaG93IiwKICBjb21wb25lbnRzOiB7CiAgICBQb3N0TGlzdDogUG9zdExpc3QsCiAgICBQb3N0RWRpdG9yOiBQb3N0RWRpdG9yCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZU5vdGlmaWNhdGlvbnMgPSB1c2VOb3RpZmljYXRpb25zKCksCiAgICAgICAgYWRkTm90aWZpY2F0aW9uID0gX3VzZU5vdGlmaWNhdGlvbnMuYWRkTm90aWZpY2F0aW9uOwoKICAgIHJldHVybiB7CiAgICAgIGFkZE5vdGlmaWNhdGlvbjogYWRkTm90aWZpY2F0aW9uCiAgICB9OwogIH0sCiAgbWl4aW5zOiBbYXN5bmNEYXRhU3RhdHVzXSwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycygiYXV0aCIsIFsiYXV0aFVzZXIiXSkpLCB7fSwgewogICAgdGhyZWFkczogZnVuY3Rpb24gdGhyZWFkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRocmVhZHMuaXRlbXM7CiAgICB9LAogICAgcG9zdHM6IGZ1bmN0aW9uIHBvc3RzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucG9zdHMuaXRlbXM7CiAgICB9LAogICAgdGhyZWFkOiBmdW5jdGlvbiB0aHJlYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJ0aHJlYWRzL3RocmVhZCJdKHRoaXMuaWQpOwogICAgfSwKICAgIHRocmVhZFBvc3RzOiBmdW5jdGlvbiB0aHJlYWRQb3N0cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLnBvc3RzLmZpbHRlcihmdW5jdGlvbiAocG9zdCkgewogICAgICAgIHJldHVybiBwb3N0LnRocmVhZElkID09PSBfdGhpcy5pZDsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygicG9zdHMiLCBbImNyZWF0ZVBvc3QiLCAiZmV0Y2hQb3N0IiwgImZldGNoUG9zdHMiXSkpLCBtYXBBY3Rpb25zKCJ0aHJlYWRzIiwgWyJmZXRjaFRocmVhZCJdKSksIG1hcEFjdGlvbnMoInVzZXJzIiwgWyJmZXRjaFVzZXJzIiwgImZldGNoVXNlciJdKSksIHt9LCB7CiAgICBmZXRjaFBvc3RzV2l0aFVzZXJzOiBmdW5jdGlvbiBmZXRjaFBvc3RzV2l0aFVzZXJzKGlkcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHBvc3RzLCB1c2VyczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZmV0Y2hQb3N0cyh7CiAgICAgICAgICAgICAgICAgIGlkczogaWRzLAogICAgICAgICAgICAgICAgICBvblNuYXBzaG90OiBmdW5jdGlvbiBvblNuYXBzaG90KF9yZWYpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3ByZXZpb3VzSXRlbSRlZGl0ZWQ7CgogICAgICAgICAgICAgICAgICAgIHZhciBpc0xvY2FsID0gX3JlZi5pc0xvY2FsLAogICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0l0ZW0gPSBfcmVmLnByZXZpb3VzSXRlbTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpc0xvY2FsKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hc3luY0RhdGFTdGF0dXNfcmVhZHkgfHwgaXNMb2NhbCB8fCBwcmV2aW91c0l0ZW0gIT09IG51bGwgJiYgcHJldmlvdXNJdGVtICE9PSB2b2lkIDAgJiYgcHJldmlvdXNJdGVtLmVkaXRlZCAmJiAhKHByZXZpb3VzSXRlbSAhPT0gbnVsbCAmJiBwcmV2aW91c0l0ZW0gIT09IHZvaWQgMCAmJiAoX3ByZXZpb3VzSXRlbSRlZGl0ZWQgPSBwcmV2aW91c0l0ZW0uZWRpdGVkKSAhPT0gbnVsbCAmJiBfcHJldmlvdXNJdGVtJGVkaXRlZCAhPT0gdm9pZCAwICYmIF9wcmV2aW91c0l0ZW0kZWRpdGVkLmF0KSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuYWRkTm90aWZpY2F0aW9uKHsKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJUaHJlYWQgcmVjZW50bHkgdXBkYXRlZCIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHBvc3RzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIGZldGNoIHRoZSB1c2VycyBhc3NvY2lhdGVkIHdpdGggdGhlIHBvc3RzCiAgICAgICAgICAgICAgICB1c2VycyA9IHBvc3RzLm1hcChmdW5jdGlvbiAocG9zdCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcG9zdC51c2VySWQ7CiAgICAgICAgICAgICAgICB9KS5jb25jYXQoX3RoaXMyLnRocmVhZC51c2VySWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmZldGNoVXNlcnMoewogICAgICAgICAgICAgICAgICBpZHM6IHVzZXJzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFBvc3Q6IGZ1bmN0aW9uIGFkZFBvc3QoZXZlbnREYXRhKSB7CiAgICAgIHZhciBwb3N0ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBldmVudERhdGEucG9zdCksIHt9LCB7CiAgICAgICAgdGhyZWFkSWQ6IHRoaXMuaWQKICAgICAgfSk7CgogICAgICB0aGlzLmNyZWF0ZVBvc3QocG9zdCk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgdGhyZWFkOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmZldGNoVGhyZWFkKHsKICAgICAgICAgICAgICAgIGlkOiBfdGhpczMuaWQsCiAgICAgICAgICAgICAgICBvblNuYXBzaG90OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfb25TbmFwc2hvdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX3JlZjIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaXNMb2NhbCwgaXRlbSwgcHJldmlvdXNJdGVtLCBuZXdQb3N0cywgaGFzTmV3UG9zdHM7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTG9jYWwgPSBfcmVmMi5pc0xvY2FsLCBpdGVtID0gX3JlZjIuaXRlbSwgcHJldmlvdXNJdGVtID0gX3JlZjIucHJldmlvdXNJdGVtOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCFfdGhpczMuYXN5bmNEYXRhU3RhdHVzX3JlYWR5IHx8IGlzTG9jYWwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQb3N0cyA9IGRpZmZlcmVuY2UoaXRlbS5wb3N0cywgcHJldmlvdXNJdGVtLnBvc3RzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc05ld1Bvc3RzID0gbmV3UG9zdHMubGVuZ3RoID4gMDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc05ld1Bvc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZmV0Y2hQb3N0c1dpdGhVc2VycyhuZXdQb3N0cyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5hZGROb3RpZmljYXRpb24oewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiVGhyZWFkIHJlY2VudGx5IHVwZGF0ZWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uU25hcHNob3QoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX29uU25hcHNob3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uU25hcHNob3Q7CiAgICAgICAgICAgICAgICB9KCkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB0aHJlYWQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5mZXRjaFBvc3RzV2l0aFVzZXJzKHRocmVhZC5wb3N0cyk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX3RoaXMzLmFzeW5jRGF0YVN0YXR1c19mZXRjaGVkKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["C:\\dev\\farming-forum\\src\\pages\\ThreadShow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div v-if=\"asyncDataStatus_ready\" class=\"col-large push-top\">\r\n\t\t<h1>\r\n\t\t\t{{ thread?.title }}\r\n\t\t\t<router-link\r\n\t\t\t\tv-if=\"thread.userId === authUser?.id\"\r\n\t\t\t\t:to=\"{ name: 'ThreadEdit', id: this.id }\"\r\n\t\t\t\tclass=\"btn-green btn-small\"\r\n\t\t\t\ttag=\"button\"\r\n\t\t\t>\r\n\t\t\t\tEdit Thread\r\n\t\t\t</router-link>\r\n\t\t</h1>\r\n\t\t<p v-if=\"thread.publishedAt\">\r\n\t\t\tBy <a href=\"#\" class=\"link-unstyled\">{{ thread.author?.name }}</a\r\n\t\t\t>, <app-date :timestamp=\"thread.publishedAt\" />.\r\n\t\t\t<span\r\n\t\t\t\tstyle=\"float: right; margin-top: 2px\"\r\n\t\t\t\tclass=\"hide-mobile text-faded text-small\"\r\n\t\t\t\t>{{ thread?.repliesCount }} replies by\r\n\t\t\t\t{{ thread?.contributorsCount }} contributors</span\r\n\t\t\t>\r\n\t\t</p>\r\n\t\t<post-list :posts=\"threadPosts\" />\r\n\t\t<post-editor v-if=\"authUser\" @save=\"addPost\" />\r\n\t\t<div v-else class=\"text-center\" style=\"margin-bottom: 50px\">\r\n\t\t\t<router-link :to=\"{ name: 'SignIn', query: { redirectTo: $route.path } }\"\r\n\t\t\t\t>Sign In</router-link\r\n\t\t\t>\r\n\t\t\tor\r\n\t\t\t<router-link\r\n\t\t\t\t:to=\"{ name: 'Register', query: { redirectTo: $route.path } }\"\r\n\t\t\t\t>Register</router-link\r\n\t\t\t>\r\n\t\t\tto reply.\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PostList from \"@/components/PostList\";\r\n\timport PostEditor from \"@/components/PostEditor\";\r\n\timport { mapActions, mapGetters } from \"vuex\";\r\n\timport asyncDataStatus from \"@/mixins/asyncDataStatus\";\r\n\timport useNotifications from \"@/composables/useNotifications\";\r\n\timport difference from \"lodash\";\r\n\r\n\texport default {\r\n\t\tname: \"ThreadShow\",\r\n\t\tcomponents: {\r\n\t\t\tPostList,\r\n\t\t\tPostEditor,\r\n\t\t},\r\n\t\tsetup() {\r\n\t\t\tconst { addNotification } = useNotifications();\r\n\t\t\treturn { addNotification };\r\n\t\t},\r\n\t\tmixins: [asyncDataStatus],\r\n\t\tprops: {\r\n\t\t\tid: {\r\n\t\t\t\trequired: true,\r\n\t\t\t\ttype: String,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters(\"auth\", [\"authUser\"]),\r\n\t\t\tthreads() {\r\n\t\t\t\treturn this.$store.state.threads.items;\r\n\t\t\t},\r\n\t\t\tposts() {\r\n\t\t\t\treturn this.$store.state.posts.items;\r\n\t\t\t},\r\n\t\t\tthread() {\r\n\t\t\t\treturn this.$store.getters[\"threads/thread\"](this.id);\r\n\t\t\t},\r\n\t\t\tthreadPosts() {\r\n\t\t\t\treturn this.posts.filter((post) => post.threadId === this.id);\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(\"posts\", [\"createPost\", \"fetchPost\", \"fetchPosts\"]),\r\n\t\t\t...mapActions(\"threads\", [\"fetchThread\"]),\r\n\t\t\t...mapActions(\"users\", [\"fetchUsers\", \"fetchUser\"]),\r\n\t\t\tasync fetchPostsWithUsers(ids) {\r\n\t\t\t\t// fetch the posts\r\n\t\t\t\tconst posts = await this.fetchPosts({\r\n\t\t\t\t\tids,\r\n\t\t\t\t\tonSnapshot: ({ isLocal, previousItem }) => {\r\n\t\t\t\t\t\tconsole.log(isLocal);\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!this.asyncDataStatus_ready ||\r\n\t\t\t\t\t\t\tisLocal ||\r\n\t\t\t\t\t\t\t(previousItem?.edited && !previousItem?.edited?.at)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tthis.addNotification({ message: \"Thread recently updated\" });\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// fetch the users associated with the posts\r\n\t\t\t\tconst users = posts.map((post) => post.userId).concat(this.thread.userId);\r\n\t\t\t\tawait this.fetchUsers({ ids: users });\r\n\t\t\t},\r\n\t\t\taddPost(eventData) {\r\n\t\t\t\tconst post = {\r\n\t\t\t\t\t...eventData.post,\r\n\t\t\t\t\tthreadId: this.id,\r\n\t\t\t\t};\r\n\t\t\t\tthis.createPost(post);\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\t// fetch the thread\r\n\t\t\tconst thread = await this.fetchThread({\r\n\t\t\t\tid: this.id,\r\n\t\t\t\tonSnapshot: async ({ isLocal, item, previousItem }) => {\r\n\t\t\t\t\tif (!this.asyncDataStatus_ready || isLocal) return;\r\n\t\t\t\t\tconst newPosts = difference(item.posts, previousItem.posts);\r\n\t\t\t\t\tconst hasNewPosts = newPosts.length > 0;\r\n\t\t\t\t\tif (hasNewPosts) {\r\n\t\t\t\t\t\tawait this.fetchPostsWithUsers(newPosts);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.addNotification({ message: \"Thread recently updated\" });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tawait this.fetchPostsWithUsers(thread.posts);\r\n\t\t\tthis.asyncDataStatus_fetched();\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t.post-list {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\r\n\t.post {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground-color: white;\r\n\t\tpadding: 20px 10px;\r\n\t\tpadding-bottom: 7px;\r\n\t\tbox-shadow: 2px 2px 1px rgba(136, 136, 136, 0.09);\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post {\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.post .user-info {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\t\ttext-align: center;\r\n\t\tflex: 1 1 15%;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\r\n\t.post .user-info > * {\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post .user-info {\r\n\t\t\torder: -2;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\tbackground: rgba(73, 89, 96, 0.06);\r\n\t\t\tmargin-right: 0;\r\n\t\t\tpadding: 5px;\r\n\t\t\tpadding-left: 10px;\r\n\t\t}\r\n\r\n\t\t.post .user-info .avatar-large {\r\n\t\t\theight: 35px;\r\n\t\t\twidth: 35px;\r\n\t\t\tmargin-right: 5px;\r\n\t\t\torder: 1;\r\n\t\t}\r\n\r\n\t\t.post .user-info .user-name {\r\n\t\t\torder: 2;\r\n\t\t}\r\n\r\n\t\t.post .user-info > * {\r\n\t\t\tmargin-right: 5px;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.post .post-date {\r\n\t\tflex-basis: 100%;\r\n\t\tfont-size: 14px;\r\n\t\ttext-align: right;\r\n\t\tmargin-bottom: 5px;\r\n\t\tpadding-right: 7px;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post .post-date {\r\n\t\t\torder: -1;\r\n\t\t\tflex-basis: 40%;\r\n\t\t\tbackground: rgba(73, 89, 96, 0.06);\r\n\t\t\tpadding-right: 10px;\r\n\t\t\tpadding-top: 16px;\r\n\t\t\tmargin-bottom: 0px;\r\n\t\t}\r\n\t}\r\n\r\n\t@media (max-width: 720px) {\r\n\t\t.post {\r\n\t\t\tpadding: 0px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content {\r\n\t\tdisplay: flex;\r\n\t\tflex: 1 0 83%;\r\n\t\tpadding-left: 15px;\r\n\t\tpadding-right: 10px;\r\n\t\tfont-size: 16px;\r\n\t\ttext-align: justify;\r\n\t\tline-height: 1.5;\r\n\t\tword-break: break-word;\r\n\t}\r\n\r\n\t.post-content h1,\r\n\t.post-content h2,\r\n\t.post-content h3 {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\r\n\t.post-content p {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.post-content pre {\r\n\t\tdisplay: grid;\r\n\t\toverflow: auto;\r\n\t\tword-wrap: break-word;\r\n\t\tborder-radius: 3px;\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t.post-content blockquote {\r\n\t\tmargin: 25px 0px;\r\n\t}\r\n\r\n\t.post-content blockquote.big {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.post-content blockquote.big::before {\r\n\t\tposition: absolute;\r\n\t\ttop: -25px;\r\n\t\tleft: -25px;\r\n\t\tfont-size: 42px;\r\n\t\tfont-family: FontAwesome;\r\n\t\tcontent: \"\\f10e\";\r\n\t\tcolor: #263959;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post-content blockquote.big::before {\r\n\t\t\ttop: -15px;\r\n\t\t\tleft: -18px;\r\n\t\t\tfont-size: 32px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content blockquote.big .quote {\r\n\t\tpadding-left: 20px;\r\n\t\tpadding-right: 15px;\r\n\t\tflex-basis: 95%;\r\n\t\tfont-weight: 100;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 17px;\r\n\t}\r\n\r\n\t.post-content blockquote.big .author {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.post-content blockquote.big .author img {\r\n\t\tflex: 1;\r\n\t\tflex-basis: 100%;\r\n\t\tmargin-top: 10px;\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t}\r\n\r\n\t.post-content blockquote.small {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\tflex-direction: column;\r\n\t\tborder: 2px solid rgba(152, 152, 152, 0.15);\r\n\t\tborder-bottom-left-radius: 5px;\r\n\t\tborder-bottom-right-radius: 5px;\r\n\t}\r\n\r\n\t.post-content blockquote.small::before {\r\n\t\tposition: absolute;\r\n\t\ttop: -20px;\r\n\t\tleft: -20px;\r\n\t\tfont-size: 42px;\r\n\t\tfont-family: FontAwesome;\r\n\t\tcontent: \"\\f10e\";\r\n\t\tcolor: #263959;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post-content blockquote.small::before {\r\n\t\t\ttop: -18px;\r\n\t\t\tleft: -15px;\r\n\t\t\tfont-size: 32px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content blockquote.small .author {\r\n\t\tdisplay: flex;\r\n\t\tflex-basis: 100%;\r\n\t\tpadding: 3px 10px 3px 28px;\r\n\t\tbackground-color: rgba(152, 152, 152, 0.15);\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.post-content blockquote.small .author .time {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\t.post-content blockquote.small .author .fa {\r\n\t\tmargin-left: auto;\r\n\t\tfont-size: 20px;\r\n\t}\r\n\r\n\t.post-content blockquote.small .author .fa:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.post-content blockquote.small .quote {\r\n\t\tdisplay: flex;\r\n\t\tflex-basis: 100%;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 10px;\r\n\t\tfont-weight: 100;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 17px;\r\n\t}\r\n\r\n\t.post-content blockquote.simple {\r\n\t\tposition: relative;\r\n\t\tpadding: 0px 10px 0px 20px;\r\n\t\tfont-weight: 100;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 17px;\r\n\t\tletter-spacing: 0.15px;\r\n\t}\r\n\r\n\t.post-content blockquote.simple::before {\r\n\t\tposition: absolute;\r\n\t\ttop: -25px;\r\n\t\tleft: -25px;\r\n\t\tfont-size: 42px;\r\n\t\tfont-family: FontAwesome;\r\n\t\tcontent: \"\\f10e\";\r\n\t\tcolor: #263959;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post-content blockquote.simple::before {\r\n\t\t\ttop: -15px;\r\n\t\t\tleft: -18px;\r\n\t\t\tfont-size: 32px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content blockquote.simple .author {\r\n\t\tdisplay: block;\r\n\t\tmargin-top: 10px;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\t.post-content blockquote.simple .author .time {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\t.post-listing-editor {\r\n\t\tflex: 1 1 83%;\r\n\t}\r\n</style>\r\n"],"sourceRoot":""}]}