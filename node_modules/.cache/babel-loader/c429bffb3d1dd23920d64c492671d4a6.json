{"remainingRequest":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\dev\\farming-forum\\src\\pages\\ThreadShow.vue?vue&type=template&id=17d5224b","dependencies":[{"path":"C:\\dev\\farming-forum\\src\\pages\\ThreadShow.vue","mtime":1640102375624},{"path":"C:\\dev\\farming-forum\\babel.config.js","mtime":1638558199793},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiY29sLWxhcmdlIHB1c2gtdG9wIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIEVkaXQgVGhyZWFkICIpOwoKdmFyIF9ob2lzdGVkXzMgPSB7CiAga2V5OiAwCn07Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgQnkgIik7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBocmVmOiAiIyIsCiAgY2xhc3M6ICJsaW5rLXVuc3R5bGVkIgp9OwoKdmFyIF9ob2lzdGVkXzYgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiLCAiKTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIi4gIik7Cgp2YXIgX2hvaXN0ZWRfOCA9IHsKICBzdHlsZTogewogICAgImZsb2F0IjogInJpZ2h0IiwKICAgICJtYXJnaW4tdG9wIjogIjJweCIKICB9LAogIGNsYXNzOiAiaGlkZS1tb2JpbGUgdGV4dC1mYWRlZCB0ZXh0LXNtYWxsIgp9Owp2YXIgX2hvaXN0ZWRfOSA9IHsKICBrZXk6IDIsCiAgY2xhc3M6ICJ0ZXh0LWNlbnRlciIsCiAgc3R5bGU6IHsKICAgICJtYXJnaW4tYm90dG9tIjogIjUwcHgiCiAgfQp9OwoKdmFyIF9ob2lzdGVkXzEwID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIlNpZ24gSW4iKTsKCnZhciBfaG9pc3RlZF8xMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgb3IgIik7Cgp2YXIgX2hvaXN0ZWRfMTIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiUmVnaXN0ZXIiKTsKCnZhciBfaG9pc3RlZF8xMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgdG8gcmVwbHkuICIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgXyRvcHRpb25zJHRocmVhZCwgX2N0eCRhdXRoVXNlciwgXyRvcHRpb25zJHRocmVhZCRhdXRoLCBfJG9wdGlvbnMkdGhyZWFkMiwgXyRvcHRpb25zJHRocmVhZDM7CgogIHZhciBfY29tcG9uZW50X3JvdXRlcl9saW5rID0gX3Jlc29sdmVDb21wb25lbnQoInJvdXRlci1saW5rIik7CgogIHZhciBfY29tcG9uZW50X2FwcF9kYXRlID0gX3Jlc29sdmVDb21wb25lbnQoImFwcC1kYXRlIik7CgogIHZhciBfY29tcG9uZW50X3Bvc3RfbGlzdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJwb3N0LWxpc3QiKTsKCiAgdmFyIF9jb21wb25lbnRfcG9zdF9lZGl0b3IgPSBfcmVzb2x2ZUNvbXBvbmVudCgicG9zdC1lZGl0b3IiKTsKCiAgcmV0dXJuIF9jdHguYXN5bmNEYXRhU3RhdHVzX3JlYWR5ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgbnVsbCwgW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZygoXyRvcHRpb25zJHRocmVhZCA9ICRvcHRpb25zLnRocmVhZCkgPT09IG51bGwgfHwgXyRvcHRpb25zJHRocmVhZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRvcHRpb25zJHRocmVhZC50aXRsZSkgKyAiICIsIDEKICAvKiBURVhUICovCiAgKSwgJG9wdGlvbnMudGhyZWFkLnVzZXJJZCA9PT0gKChfY3R4JGF1dGhVc2VyID0gX2N0eC5hdXRoVXNlcikgPT09IG51bGwgfHwgX2N0eCRhdXRoVXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2N0eCRhdXRoVXNlci5pZCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAga2V5OiAwLAogICAgdG86IHsKICAgICAgbmFtZTogJ1RocmVhZEVkaXQnLAogICAgICBpZDogdGhpcy5pZAogICAgfSwKICAgIGNsYXNzOiAiYnRuLWdyZWVuIGJ0bi1zbWFsbCIsCiAgICB0YWc6ICJidXR0b24iCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzJdOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbInRvIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pLCAkb3B0aW9ucy50aHJlYWQucHVibGlzaGVkQXQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJwIiwgX2hvaXN0ZWRfMywgW19ob2lzdGVkXzQsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKChfJG9wdGlvbnMkdGhyZWFkJGF1dGggPSAkb3B0aW9ucy50aHJlYWQuYXV0aG9yKSA9PT0gbnVsbCB8fCBfJG9wdGlvbnMkdGhyZWFkJGF1dGggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8kb3B0aW9ucyR0aHJlYWQkYXV0aC5uYW1lKSwgMQogIC8qIFRFWFQgKi8KICApLCBfaG9pc3RlZF82LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hcHBfZGF0ZSwgewogICAgdGltZXN0YW1wOiAkb3B0aW9ucy50aHJlYWQucHVibGlzaGVkQXQKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsidGltZXN0YW1wIl0pLCBfaG9pc3RlZF83LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfOCwgX3RvRGlzcGxheVN0cmluZygoXyRvcHRpb25zJHRocmVhZDIgPSAkb3B0aW9ucy50aHJlYWQpID09PSBudWxsIHx8IF8kb3B0aW9ucyR0aHJlYWQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJG9wdGlvbnMkdGhyZWFkMi5yZXBsaWVzQ291bnQpICsgIiByZXBsaWVzIGJ5ICIgKyBfdG9EaXNwbGF5U3RyaW5nKChfJG9wdGlvbnMkdGhyZWFkMyA9ICRvcHRpb25zLnRocmVhZCkgPT09IG51bGwgfHwgXyRvcHRpb25zJHRocmVhZDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8kb3B0aW9ucyR0aHJlYWQzLmNvbnRyaWJ1dG9yc0NvdW50KSArICIgY29udHJpYnV0b3JzIiwgMQogIC8qIFRFWFQgKi8KICApXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9wb3N0X2xpc3QsIHsKICAgIHBvc3RzOiAkb3B0aW9ucy50aHJlYWRQb3N0cwogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJwb3N0cyJdKSwgX2N0eC5hdXRoVXNlciA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3Bvc3RfZWRpdG9yLCB7CiAgICBrZXk6IDEsCiAgICBvblNhdmU6ICRvcHRpb25zLmFkZFBvc3QKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25TYXZlIl0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAgdG86IHsKICAgICAgbmFtZTogJ1NpZ25JbicsCiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgcmVkaXJlY3RUbzogX2N0eC4kcm91dGUucGF0aAogICAgICB9CiAgICB9CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzEwXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0byJdKSwgX2hvaXN0ZWRfMTEsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICB0bzogewogICAgICBuYW1lOiAnUmVnaXN0ZXInLAogICAgICBxdWVyeTogewogICAgICAgIHJlZGlyZWN0VG86IF9jdHguJHJvdXRlLnBhdGgKICAgICAgfQogICAgfQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8xMl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsidG8iXSksIF9ob2lzdGVkXzEzXSkpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpOwp9"},{"version":3,"sources":["C:\\dev\\farming-forum\\src\\pages\\ThreadShow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div v-if=\"asyncDataStatus_ready\" class=\"col-large push-top\">\r\n\t\t<h1>\r\n\t\t\t{{ thread?.title }}\r\n\t\t\t<router-link\r\n\t\t\t\tv-if=\"thread.userId === authUser?.id\"\r\n\t\t\t\t:to=\"{ name: 'ThreadEdit', id: this.id }\"\r\n\t\t\t\tclass=\"btn-green btn-small\"\r\n\t\t\t\ttag=\"button\"\r\n\t\t\t>\r\n\t\t\t\tEdit Thread\r\n\t\t\t</router-link>\r\n\t\t</h1>\r\n\t\t<p v-if=\"thread.publishedAt\">\r\n\t\t\tBy <a href=\"#\" class=\"link-unstyled\">{{ thread.author?.name }}</a\r\n\t\t\t>, <app-date :timestamp=\"thread.publishedAt\" />.\r\n\t\t\t<span\r\n\t\t\t\tstyle=\"float: right; margin-top: 2px\"\r\n\t\t\t\tclass=\"hide-mobile text-faded text-small\"\r\n\t\t\t\t>{{ thread?.repliesCount }} replies by\r\n\t\t\t\t{{ thread?.contributorsCount }} contributors</span\r\n\t\t\t>\r\n\t\t</p>\r\n\t\t<post-list :posts=\"threadPosts\" />\r\n\t\t<post-editor v-if=\"authUser\" @save=\"addPost\" />\r\n\t\t<div v-else class=\"text-center\" style=\"margin-bottom: 50px\">\r\n\t\t\t<router-link :to=\"{ name: 'SignIn', query: { redirectTo: $route.path } }\"\r\n\t\t\t\t>Sign In</router-link\r\n\t\t\t>\r\n\t\t\tor\r\n\t\t\t<router-link\r\n\t\t\t\t:to=\"{ name: 'Register', query: { redirectTo: $route.path } }\"\r\n\t\t\t\t>Register</router-link\r\n\t\t\t>\r\n\t\t\tto reply.\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PostList from \"@/components/PostList\";\r\n\timport PostEditor from \"@/components/PostEditor\";\r\n\timport { mapActions, mapGetters } from \"vuex\";\r\n\timport asyncDataStatus from \"@/mixins/asyncDataStatus\";\r\n\timport useNotifications from \"@/composables/useNotifications\";\r\n\timport difference from \"lodash\";\r\n\r\n\texport default {\r\n\t\tname: \"ThreadShow\",\r\n\t\tcomponents: {\r\n\t\t\tPostList,\r\n\t\t\tPostEditor,\r\n\t\t},\r\n\t\tsetup() {\r\n\t\t\tconst { addNotification } = useNotifications();\r\n\t\t\treturn { addNotification };\r\n\t\t},\r\n\t\tmixins: [asyncDataStatus],\r\n\t\tprops: {\r\n\t\t\tid: {\r\n\t\t\t\trequired: true,\r\n\t\t\t\ttype: String,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters(\"auth\", [\"authUser\"]),\r\n\t\t\tthreads() {\r\n\t\t\t\treturn this.$store.state.threads.items;\r\n\t\t\t},\r\n\t\t\tposts() {\r\n\t\t\t\treturn this.$store.state.posts.items;\r\n\t\t\t},\r\n\t\t\tthread() {\r\n\t\t\t\treturn this.$store.getters[\"threads/thread\"](this.id);\r\n\t\t\t},\r\n\t\t\tthreadPosts() {\r\n\t\t\t\treturn this.posts.filter((post) => post.threadId === this.id);\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(\"posts\", [\"createPost\", \"fetchPost\", \"fetchPosts\"]),\r\n\t\t\t...mapActions(\"threads\", [\"fetchThread\"]),\r\n\t\t\t...mapActions(\"users\", [\"fetchUsers\", \"fetchUser\"]),\r\n\t\t\tasync fetchPostsWithUsers(ids) {\r\n\t\t\t\t// fetch the posts\r\n\t\t\t\tconst posts = await this.fetchPosts({\r\n\t\t\t\t\tids,\r\n\t\t\t\t\tonSnapshot: ({ isLocal, previousItem }) => {\r\n\t\t\t\t\t\tconsole.log(isLocal);\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!this.asyncDataStatus_ready ||\r\n\t\t\t\t\t\t\tisLocal ||\r\n\t\t\t\t\t\t\t(previousItem?.edited && !previousItem?.edited?.at)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tthis.addNotification({ message: \"Thread recently updated\" });\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// fetch the users associated with the posts\r\n\t\t\t\tconst users = posts.map((post) => post.userId).concat(this.thread.userId);\r\n\t\t\t\tawait this.fetchUsers({ ids: users });\r\n\t\t\t},\r\n\t\t\taddPost(eventData) {\r\n\t\t\t\tconst post = {\r\n\t\t\t\t\t...eventData.post,\r\n\t\t\t\t\tthreadId: this.id,\r\n\t\t\t\t};\r\n\t\t\t\tthis.createPost(post);\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\t// fetch the thread\r\n\t\t\tconst thread = await this.fetchThread({\r\n\t\t\t\tid: this.id,\r\n\t\t\t\tonSnapshot: async ({ isLocal, item, previousItem }) => {\r\n\t\t\t\t\tif (!this.asyncDataStatus_ready || isLocal) return;\r\n\t\t\t\t\tconst newPosts = difference(item.posts, previousItem.posts);\r\n\t\t\t\t\tconst hasNewPosts = newPosts.length > 0;\r\n\t\t\t\t\tif (hasNewPosts) {\r\n\t\t\t\t\t\tawait this.fetchPostsWithUsers(newPosts);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.addNotification({ message: \"Thread recently updated\" });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tawait this.fetchPostsWithUsers(thread.posts);\r\n\t\t\tthis.asyncDataStatus_fetched();\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t.post-list {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\r\n\t.post {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground-color: white;\r\n\t\tpadding: 20px 10px;\r\n\t\tpadding-bottom: 7px;\r\n\t\tbox-shadow: 2px 2px 1px rgba(136, 136, 136, 0.09);\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post {\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.post .user-info {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\t\ttext-align: center;\r\n\t\tflex: 1 1 15%;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\r\n\t.post .user-info > * {\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post .user-info {\r\n\t\t\torder: -2;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\tbackground: rgba(73, 89, 96, 0.06);\r\n\t\t\tmargin-right: 0;\r\n\t\t\tpadding: 5px;\r\n\t\t\tpadding-left: 10px;\r\n\t\t}\r\n\r\n\t\t.post .user-info .avatar-large {\r\n\t\t\theight: 35px;\r\n\t\t\twidth: 35px;\r\n\t\t\tmargin-right: 5px;\r\n\t\t\torder: 1;\r\n\t\t}\r\n\r\n\t\t.post .user-info .user-name {\r\n\t\t\torder: 2;\r\n\t\t}\r\n\r\n\t\t.post .user-info > * {\r\n\t\t\tmargin-right: 5px;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.post .post-date {\r\n\t\tflex-basis: 100%;\r\n\t\tfont-size: 14px;\r\n\t\ttext-align: right;\r\n\t\tmargin-bottom: 5px;\r\n\t\tpadding-right: 7px;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post .post-date {\r\n\t\t\torder: -1;\r\n\t\t\tflex-basis: 40%;\r\n\t\t\tbackground: rgba(73, 89, 96, 0.06);\r\n\t\t\tpadding-right: 10px;\r\n\t\t\tpadding-top: 16px;\r\n\t\t\tmargin-bottom: 0px;\r\n\t\t}\r\n\t}\r\n\r\n\t@media (max-width: 720px) {\r\n\t\t.post {\r\n\t\t\tpadding: 0px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content {\r\n\t\tdisplay: flex;\r\n\t\tflex: 1 0 83%;\r\n\t\tpadding-left: 15px;\r\n\t\tpadding-right: 10px;\r\n\t\tfont-size: 16px;\r\n\t\ttext-align: justify;\r\n\t\tline-height: 1.5;\r\n\t\tword-break: break-word;\r\n\t}\r\n\r\n\t.post-content h1,\r\n\t.post-content h2,\r\n\t.post-content h3 {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\r\n\t.post-content p {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.post-content pre {\r\n\t\tdisplay: grid;\r\n\t\toverflow: auto;\r\n\t\tword-wrap: break-word;\r\n\t\tborder-radius: 3px;\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t.post-content blockquote {\r\n\t\tmargin: 25px 0px;\r\n\t}\r\n\r\n\t.post-content blockquote.big {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.post-content blockquote.big::before {\r\n\t\tposition: absolute;\r\n\t\ttop: -25px;\r\n\t\tleft: -25px;\r\n\t\tfont-size: 42px;\r\n\t\tfont-family: FontAwesome;\r\n\t\tcontent: \"\\f10e\";\r\n\t\tcolor: #263959;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post-content blockquote.big::before {\r\n\t\t\ttop: -15px;\r\n\t\t\tleft: -18px;\r\n\t\t\tfont-size: 32px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content blockquote.big .quote {\r\n\t\tpadding-left: 20px;\r\n\t\tpadding-right: 15px;\r\n\t\tflex-basis: 95%;\r\n\t\tfont-weight: 100;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 17px;\r\n\t}\r\n\r\n\t.post-content blockquote.big .author {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.post-content blockquote.big .author img {\r\n\t\tflex: 1;\r\n\t\tflex-basis: 100%;\r\n\t\tmargin-top: 10px;\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t}\r\n\r\n\t.post-content blockquote.small {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\tflex-direction: column;\r\n\t\tborder: 2px solid rgba(152, 152, 152, 0.15);\r\n\t\tborder-bottom-left-radius: 5px;\r\n\t\tborder-bottom-right-radius: 5px;\r\n\t}\r\n\r\n\t.post-content blockquote.small::before {\r\n\t\tposition: absolute;\r\n\t\ttop: -20px;\r\n\t\tleft: -20px;\r\n\t\tfont-size: 42px;\r\n\t\tfont-family: FontAwesome;\r\n\t\tcontent: \"\\f10e\";\r\n\t\tcolor: #263959;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post-content blockquote.small::before {\r\n\t\t\ttop: -18px;\r\n\t\t\tleft: -15px;\r\n\t\t\tfont-size: 32px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content blockquote.small .author {\r\n\t\tdisplay: flex;\r\n\t\tflex-basis: 100%;\r\n\t\tpadding: 3px 10px 3px 28px;\r\n\t\tbackground-color: rgba(152, 152, 152, 0.15);\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.post-content blockquote.small .author .time {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\t.post-content blockquote.small .author .fa {\r\n\t\tmargin-left: auto;\r\n\t\tfont-size: 20px;\r\n\t}\r\n\r\n\t.post-content blockquote.small .author .fa:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.post-content blockquote.small .quote {\r\n\t\tdisplay: flex;\r\n\t\tflex-basis: 100%;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 10px;\r\n\t\tfont-weight: 100;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 17px;\r\n\t}\r\n\r\n\t.post-content blockquote.simple {\r\n\t\tposition: relative;\r\n\t\tpadding: 0px 10px 0px 20px;\r\n\t\tfont-weight: 100;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 17px;\r\n\t\tletter-spacing: 0.15px;\r\n\t}\r\n\r\n\t.post-content blockquote.simple::before {\r\n\t\tposition: absolute;\r\n\t\ttop: -25px;\r\n\t\tleft: -25px;\r\n\t\tfont-size: 42px;\r\n\t\tfont-family: FontAwesome;\r\n\t\tcontent: \"\\f10e\";\r\n\t\tcolor: #263959;\r\n\t}\r\n\r\n\t@media (max-width: 820px) {\r\n\t\t.post-content blockquote.simple::before {\r\n\t\t\ttop: -15px;\r\n\t\t\tleft: -18px;\r\n\t\t\tfont-size: 32px;\r\n\t\t}\r\n\t}\r\n\r\n\t.post-content blockquote.simple .author {\r\n\t\tdisplay: block;\r\n\t\tmargin-top: 10px;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\t.post-content blockquote.simple .author .time {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\t.post-listing-editor {\r\n\t\tflex: 1 1 83%;\r\n\t}\r\n</style>\r\n"],"sourceRoot":""}]}