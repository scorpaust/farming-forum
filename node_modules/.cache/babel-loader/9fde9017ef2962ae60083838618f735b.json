{"remainingRequest":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\dev\\farming-forum\\src\\pages\\ThreadCreate.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\dev\\farming-forum\\src\\pages\\ThreadCreate.vue","mtime":1639942035140},{"path":"C:\\dev\\farming-forum\\babel.config.js","mtime":1638558199793},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZhcm1pbmctZm9ydW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOlxcZGV2XFxmYXJtaW5nLWZvcnVtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVGhyZWFkRWRpdG9yIGZyb20gIkAvY29tcG9uZW50cy9UaHJlYWRFZGl0b3IiOwppbXBvcnQgeyBmaW5kQnlJZCB9IGZyb20gIkAvaGVscGVycyI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGFzeW5jRGF0YVN0YXR1cyBmcm9tICJAL21peGlucy9hc3luY0RhdGFTdGF0dXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1Jc0RpcnR5OiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBmb3J1bUlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFRocmVhZEVkaXRvcjogVGhyZWFkRWRpdG9yCiAgfSwKICBtaXhpbnM6IFthc3luY0RhdGFTdGF0dXNdLAogIGNvbXB1dGVkOiB7CiAgICBmb3J1bTogZnVuY3Rpb24gZm9ydW0oKSB7CiAgICAgIHJldHVybiBmaW5kQnlJZCh0aGlzLiRzdG9yZS5zdGF0ZS5mb3J1bXMuaXRlbXMsIHRoaXMuZm9ydW1JZCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygiZm9ydW1zIiwgWyJmZXRjaEZvcnVtIl0pKSwgbWFwQWN0aW9ucygidGhyZWFkcyIsIFsiY3JlYXRlVGhyZWFkIl0pKSwge30sIHsKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdGl0bGUsIHRleHQsIHRocmVhZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aXRsZSA9IF9yZWYudGl0bGUsIHRleHQgPSBfcmVmLnRleHQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVUaHJlYWQoewogICAgICAgICAgICAgICAgICBmb3J1bUlkOiBfdGhpcy5mb3J1bS5pZCwKICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdGhyZWFkID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAiVGhyZWFkU2hvdyIsCiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGlkOiB0aHJlYWQuaWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJGb3J1bSIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogdGhpcy5mb3J1bS5pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmZldGNoRm9ydW0oewogICAgICAgICAgICAgICAgaWQ6IF90aGlzMi5mb3J1bUlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX3RoaXMyLmFzeW5jRGF0YVN0YXR1c19mZXRjaGVkKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGJlZm9yZVJvdXRlTGVhdmU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlTGVhdmUoKSB7CiAgICBpZiAodGhpcy5mb3JtSXNEaXJ0eSkgewogICAgICB2YXIgY29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZT8gVW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdCEiKTsKICAgICAgaWYgKCFjb25maXJtZWQpIHJldHVybiBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\dev\\farming-forum\\src\\pages\\ThreadCreate.vue"],"names":[],"mappings":";;;AAeC,OAAO,YAAP,MAAyB,2BAAzB;AACA,SAAS,QAAT,QAAyB,WAAzB;AACA,SAAS,UAAT,QAA2B,MAA3B;AACA,OAAO,eAAP,MAA4B,0BAA5B;AAEA,eAAe;AACd,EAAA,IADc,kBACP;AACN,WAAO;AACN,MAAA,WAAW,EAAE;AADP,KAAP;AAGA,GALa;AAMd,EAAA,KAAK,EAAE;AACN,IAAA,OAAO,EAAE;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,QAAQ,EAAE;AAA1B;AADH,GANO;AASd,EAAA,UAAU,EAAE;AACX,IAAA,YAAY,EAAZ;AADW,GATE;AAYd,EAAA,MAAM,EAAE,CAAC,eAAD,CAZM;AAad,EAAA,QAAQ,EAAE;AACT,IAAA,KADS,mBACD;AACP,aAAO,QAAQ,CAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,MAAlB,CAAyB,KAA1B,EAAiC,KAAK,OAAtC,CAAf;AACA;AAHQ,GAbI;AAkBd,EAAA,OAAO,gDACH,UAAU,CAAC,QAAD,EAAW,CAAC,YAAD,CAAX,CADP,GAEH,UAAU,CAAC,SAAD,EAAY,CAAC,cAAD,CAAZ,CAFP;AAGA,IAAA,IAHA,sBAGsB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,gBAAA,KAAe,QAAf,KAAe,EAAR,IAAQ,QAAR,IAAQ;AAAA;AAAA,uBACN,KAAI,CAAC,YAAL,CAAkB;AACtC,kBAAA,OAAO,EAAE,KAAI,CAAC,KAAL,CAAW,EADkB;AAEtC,kBAAA,KAAK,EAAL,KAFsC;AAGtC,kBAAA,IAAI,EAAJ;AAHsC,iBAAlB,CADM;;AAAA;AACrB,gBAAA,MADqB;;AAM3B,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,kBAAA,IAAI,EAAE,YAAR;AAAsB,kBAAA,MAAM,EAAE;AAAE,oBAAA,EAAE,EAAE,MAAM,CAAC;AAAb;AAA9B,iBAAlB;;AAN2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO3B,KAVK;AAYN,IAAA,MAZM,oBAYG;AACR,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,QAAA,IAAI,EAAE,OAAR;AAAiB,QAAA,MAAM,EAAE;AAAE,UAAA,EAAE,EAAE,KAAK,KAAL,CAAW;AAAjB;AAAzB,OAAlB;AACA;AAdK,IAlBO;AAkCR,EAAA,OAlCQ,qBAkCE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACT,MAAI,CAAC,UAAL,CAAgB;AAAE,gBAAA,EAAE,EAAE,MAAI,CAAC;AAAX,eAAhB,CADS;;AAAA;AAEf,cAAA,MAAI,CAAC,uBAAL;;AAFe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGf,GArCa;AAsCd,EAAA,gBAtCc,8BAsCK;AAClB,QAAI,KAAK,WAAT,EAAsB;AACrB,UAAM,SAAQ,GAAI,MAAM,CAAC,OAAP,CACjB,+DADiB,CAAlB;AAGA,UAAI,CAAC,SAAL,EAAgB,OAAO,KAAP;AACjB;AACA;AA7Ca,CAAf","sourcesContent":["<template>\r\n\t<div v-if=\"asyncDataStatus_ready\" class=\"col-full push-top\">\r\n\t\t<h1>\r\n\t\t\tCreate new thread in <i>{{ forum.name }}</i>\r\n\t\t</h1>\r\n\t\t<thread-editor\r\n\t\t\t@save=\"save\"\r\n\t\t\t@cancel=\"cancel\"\r\n\t\t\t@dirty=\"formIsDirty = true\"\r\n\t\t\t@clean=\"formIsDirty = false\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport ThreadEditor from \"@/components/ThreadEditor\";\r\n\timport { findById } from \"@/helpers\";\r\n\timport { mapActions } from \"vuex\";\r\n\timport asyncDataStatus from \"@/mixins/asyncDataStatus\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tformIsDirty: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tforumId: { type: String, required: true },\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tThreadEditor,\r\n\t\t},\r\n\t\tmixins: [asyncDataStatus],\r\n\t\tcomputed: {\r\n\t\t\tforum() {\r\n\t\t\t\treturn findById(this.$store.state.forums.items, this.forumId);\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(\"forums\", [\"fetchForum\"]),\r\n\t\t\t...mapActions(\"threads\", [\"createThread\"]),\r\n\t\t\tasync save({ title, text }) {\r\n\t\t\t\tconst thread = await this.createThread({\r\n\t\t\t\t\tforumId: this.forum.id,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\ttext,\r\n\t\t\t\t});\r\n\t\t\t\tthis.$router.push({ name: \"ThreadShow\", params: { id: thread.id } });\r\n\t\t\t},\r\n\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.$router.push({ name: \"Forum\", params: { id: this.forum.id } });\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tawait this.fetchForum({ id: this.forumId });\r\n\t\t\tthis.asyncDataStatus_fetched();\r\n\t\t},\r\n\t\tbeforeRouteLeave() {\r\n\t\t\tif (this.formIsDirty) {\r\n\t\t\t\tconst confirmed = window.confirm(\r\n\t\t\t\t\t\"Are you sure you want to leave? Unsaved changes will be lost!\"\r\n\t\t\t\t);\r\n\t\t\t\tif (!confirmed) return false;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>"],"sourceRoot":""}]}