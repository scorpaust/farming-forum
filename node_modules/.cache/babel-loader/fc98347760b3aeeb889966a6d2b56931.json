{"remainingRequest":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js!C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\dev\\farming-forum\\src\\pages\\Forum.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\dev\\farming-forum\\src\\pages\\Forum.vue","mtime":1640018394708},{"path":"C:\\dev\\farming-forum\\babel.config.js","mtime":1638558199793},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxkZXZcXGZhcm1pbmctZm9ydW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOlxcZGV2XFxmYXJtaW5nLWZvcnVtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IFRocmVhZExpc3QgZnJvbSAiQC9jb21wb25lbnRzL1RocmVhZExpc3QiOwppbXBvcnQgeyBmaW5kQnlJZCB9IGZyb20gIkAvaGVscGVycyI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGFzeW5jRGF0YVN0YXR1cyBmcm9tICJAL21peGlucy9hc3luY0RhdGFTdGF0dXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVGhyZWFkTGlzdDogVGhyZWFkTGlzdAogIH0sCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0KICB9LAogIG1peGluczogW2FzeW5jRGF0YVN0YXR1c10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRocmVhZExvYWRlZDogZmFsc2UsCiAgICAgIHBhZ2U6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnF1ZXJ5LnBhZ2UgfHwgMSksCiAgICAgIHBlclBhZ2U6IDEwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZvcnVtOiBmdW5jdGlvbiBmb3J1bSgpIHsKICAgICAgcmV0dXJuIGZpbmRCeUlkKHRoaXMuJHN0b3JlLnN0YXRlLmZvcnVtcy5pdGVtcywgdGhpcy5pZCk7CiAgICB9LAogICAgdGhyZWFkczogZnVuY3Rpb24gdGhyZWFkcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5mb3J1bSkgcmV0dXJuIFtdOwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudGhyZWFkcy5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKHRocmVhZCkgewogICAgICAgIHJldHVybiB0aHJlYWQuZm9ydW1JZCA9PT0gX3RoaXMuZm9ydW0uaWQ7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAodGhyZWFkKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJ0aHJlYWRzL3RocmVhZCJdKHRocmVhZC5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIHRocmVhZENvdW50OiBmdW5jdGlvbiB0aHJlYWRDb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9ydW0udGhyZWFkcy5sZW5ndGg7CiAgICB9LAogICAgdG90YWxQYWdlczogZnVuY3Rpb24gdG90YWxQYWdlcygpIHsKICAgICAgaWYgKCF0aGlzLnRocmVhZENvdW50KSByZXR1cm4gMDsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnRocmVhZENvdW50IC8gdGhpcy5wZXJQYWdlKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKCJmb3J1bXMiLCBbImZldGNoRm9ydW0iXSkpLCBtYXBBY3Rpb25zKCJ0aHJlYWRzIiwgWyJmZXRjaFRocmVhZHNCeVBhZ2UiXSkpLCBtYXBBY3Rpb25zKCJ1c2VycyIsIFsiZmV0Y2hVc2VycyJdKSksCiAgd2F0Y2g6IHsKICAgIHBhZ2U6IGZ1bmN0aW9uIHBhZ2UoX3BhZ2UpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzMi5wYWdlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBmb3J1bSwgdGhyZWFkczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5mZXRjaEZvcnVtKHsKICAgICAgICAgICAgICAgIGlkOiBfdGhpczMuaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBmb3J1bSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmZldGNoVGhyZWFkc0J5UGFnZSh7CiAgICAgICAgICAgICAgICBpZHM6IGZvcnVtLnRocmVhZHMsCiAgICAgICAgICAgICAgICBwYWdlOiBfdGhpczMucGFnZSwKICAgICAgICAgICAgICAgIHBlclBhZ2U6IF90aGlzMy5wZXJQYWdlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgdGhyZWFkcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmZldGNoVXNlcnMoewogICAgICAgICAgICAgICAgaWRzOiB0aHJlYWRzLm1hcChmdW5jdGlvbiAodGhyZWFkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aHJlYWQudXNlcklkOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfdGhpczMudGhyZWFkTG9hZGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgX3RoaXMzLmFzeW5jRGF0YVN0YXR1c19mZXRjaGVkKCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["C:\\dev\\farming-forum\\src\\pages\\Forum.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div v-if=\"asyncDataStatus_ready\" class=\"col-full\">\r\n\t\t<div v-if=\"forum\" class=\"col-full push-top\">\r\n\t\t\t<div class=\"forum-header\">\r\n\t\t\t\t<div class=\"forum-details\">\r\n\t\t\t\t\t<h1>{{ forum.name }}</h1>\r\n\t\t\t\t\t<p class=\"text-lead\">{{ forum.description }}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<router-link\r\n\t\t\t\t\t:to=\"{ name: 'ThreadCreate', params: { forumId: forum.id } }\"\r\n\t\t\t\t\tclass=\"btn-green btn-small\"\r\n\t\t\t\t>\r\n\t\t\t\t\tStart a thread\r\n\t\t\t\t</router-link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div v-if=\"threadLoaded\" class=\"col-full push-top\">\r\n\t\t\t<thread-list :threads=\"threads\" />\r\n\t\t\t<v-pagination\r\n\t\t\t\tv-model=\"page\"\r\n\t\t\t\t:pages=\"totalPages\"\r\n\t\t\t\tactive-color=\"#57AD8D\"\r\n\t\t\t\t@update:modelValue=\"updateHandler\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport ThreadList from \"@/components/ThreadList\";\r\n\timport { findById } from \"@/helpers\";\r\n\timport { mapActions } from \"vuex\";\r\n\timport asyncDataStatus from \"@/mixins/asyncDataStatus\";\r\n\r\n\texport default {\r\n\t\tcomponents: { ThreadList },\r\n\t\tprops: {\r\n\t\t\tid: {\r\n\t\t\t\trequired: true,\r\n\t\t\t\ttype: String,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmixins: [asyncDataStatus],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tthreadLoaded: false,\r\n\t\t\t\tpage: parseInt(this.$route.query.page || 1),\r\n\t\t\t\tperPage: 10,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tforum() {\r\n\t\t\t\treturn findById(this.$store.state.forums.items, this.id);\r\n\t\t\t},\r\n\t\t\tthreads() {\r\n\t\t\t\tif (!this.forum) return [];\r\n\t\t\t\treturn this.$store.state.threads.items\r\n\t\t\t\t\t.filter((thread) => thread.forumId === this.forum.id)\r\n\t\t\t\t\t.map((thread) => this.$store.getters[\"threads/thread\"](thread.id));\r\n\t\t\t},\r\n\t\t\tthreadCount() {\r\n\t\t\t\treturn this.forum.threads.length;\r\n\t\t\t},\r\n\t\t\ttotalPages() {\r\n\t\t\t\tif (!this.threadCount) return 0;\r\n\t\t\t\treturn Math.ceil(this.threadCount / this.perPage);\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(\"forums\", [\"fetchForum\"]),\r\n\t\t\t...mapActions(\"threads\", [\"fetchThreadsByPage\"]),\r\n\t\t\t...mapActions(\"users\", [\"fetchUsers\"]),\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tasync page(page) {\r\n\t\t\t\tthis.$router.push({ query: { page: this.page } });\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tconst forum = await this.fetchForum({ id: this.id });\r\n\t\t\tconst threads = await this.fetchThreadsByPage({\r\n\t\t\t\tids: forum.threads,\r\n\t\t\t\tpage: this.page,\r\n\t\t\t\tperPage: this.perPage,\r\n\t\t\t});\r\n\t\t\tawait this.fetchUsers({\r\n\t\t\t\tids: threads.map((thread) => thread.userId),\r\n\t\t\t});\r\n\t\t\tthis.threadLoaded = true;\r\n\t\t\tthis.asyncDataStatus_fetched();\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":""}]}