{"remainingRequest":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\dev\\farming-forum\\src\\pages\\ThreadEdit.vue?vue&type=template&id=e8f73250","dependencies":[{"path":"C:\\dev\\farming-forum\\src\\pages\\ThreadEdit.vue","mtime":1639940803896},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\farming-forum\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJPGRpdiB2LWlmPSJhc3luY0RhdGFTdGF0dXNfcmVhZHkiIGNsYXNzPSJjb2wtZnVsbCBwdXNoLXRvcCI+DQoJCTxoMT4NCgkJCUVkaXRpbmcgPGk+e3sgdGhyZWFkLnRpdGxlIH19PC9pPg0KCQk8L2gxPg0KDQoJCTx0aHJlYWQtZWRpdG9yDQoJCQk6dGl0bGU9InRocmVhZC50aXRsZSINCgkJCTp0ZXh0PSJ0ZXh0Ig0KCQkJQHNhdmU9InNhdmUiDQoJCQlAY2FuY2VsPSJjYW5jZWwiDQoJCQlAZGlydHk9ImZvcm1Jc0RpcnR5ID0gdHJ1ZSINCgkJCUBjbGVhbj0iZm9ybUlzRGlydHkgPSBmYWxzZSINCgkJLz4NCgk8L2Rpdj4NCg=="},{"version":3,"sources":["C:\\dev\\farming-forum\\src\\pages\\ThreadEdit.vue"],"names":[],"mappings":";CACC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1D,CAAC,CAAC,CAAC;GACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACjC,CAAC,CAAC,CAAC,CAAC;;EAEJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;GAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC;CACF,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/dev/farming-forum/src/pages/ThreadEdit.vue","sourceRoot":"","sourcesContent":["<template>\r\n\t<div v-if=\"asyncDataStatus_ready\" class=\"col-full push-top\">\r\n\t\t<h1>\r\n\t\t\tEditing <i>{{ thread.title }}</i>\r\n\t\t</h1>\r\n\r\n\t\t<thread-editor\r\n\t\t\t:title=\"thread.title\"\r\n\t\t\t:text=\"text\"\r\n\t\t\t@save=\"save\"\r\n\t\t\t@cancel=\"cancel\"\r\n\t\t\t@dirty=\"formIsDirty = true\"\r\n\t\t\t@clean=\"formIsDirty = false\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport ThreadEditor from \"@/components/ThreadEditor\";\r\n\timport { findById } from \"@/helpers\";\r\n\timport { mapActions } from \"vuex\";\r\n\timport asyncDataStatus from \"@/mixins/asyncDataStatus\";\r\n\r\n\texport default {\r\n\t\tcomponents: { ThreadEditor },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tformIsDirty: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tid: { type: String, required: true },\r\n\t\t},\r\n\t\tmixins: [asyncDataStatus],\r\n\t\tcomputed: {\r\n\t\t\tthread() {\r\n\t\t\t\treturn findById(this.$store.state.threads.items, this.id);\r\n\t\t\t},\r\n\t\t\ttext() {\r\n\t\t\t\tconst post = findById(\r\n\t\t\t\t\tthis.$store.state.posts.items,\r\n\t\t\t\t\tthis.thread.posts[0]\r\n\t\t\t\t);\r\n\t\t\t\treturn post ? post.text : \"\";\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(\"threads\", [\"updateThread\", \"fetchThread\"]),\r\n\t\t\t...mapActions(\"posts\", [\"fetchPost\"]),\r\n\t\t\tasync save({ title, text }) {\r\n\t\t\t\tconst thread = await this.updateThread({\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\ttext,\r\n\t\t\t\t});\r\n\t\t\t\tthis.$router.push({ name: \"ThreadShow\", params: { id: thread.id } });\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.$router.push({ name: \"ThreadShow\", params: { id: this.id } });\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tconst thread = await this.fetchThread({ id: this.id });\r\n\t\t\tawait this.fetchPost({ id: thread.posts[0] });\r\n\t\t\tthis.asyncDataStatus_fetched();\r\n\t\t},\r\n\t\tbeforeRouteLeave() {\r\n\t\t\tif (this.formIsDirty) {\r\n\t\t\t\tconst confirmed = window.confirm(\r\n\t\t\t\t\t\"Are you sure you want to leave? Unsaved changes will be lost!\"\r\n\t\t\t\t);\r\n\t\t\t\tif (!confirmed) return false;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>"]}]}